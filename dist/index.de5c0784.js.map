{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["class DrawingBoard {\n    MODE = \"NONE\"; //NONE BRUSH ERASER\n    IsMouseDown = false; //true false\n    eraserColor = \"#FFFFFF\";\n    backgroundColor = \"#FFFFFF\";\n    IsNavigatorVisible = false;\n    undoArray = [];\n    containerEl;\n    canvasEl;\n    toolbarEl;\n    brushEl;\n    colorPickerEl;\n    brushPanelEl;\n    brushSliderEl;\n    brushSizePreviewEl;\n    eraserEl;\n    navigatorEl;\n    navigatorImageContainerEl;\n    navigatorImageEl;\n    undoEl;\n    clearEl;\n    downloadLinkEl;\n\n    constructor() {\n        this.assingElement();\n        this.initContext();\n        this.initCanvasBackgroundColor();\n        this.addEvent();\n    }\n\n    assingElement() {\n        this.containerEl = document.getElementById(\"container\");\n        this.canvasEl = this.containerEl.querySelector(\"#canvas\");\n        this.toolbarEl = this.containerEl.querySelector(\"#toolbar\");\n        this.brushEl = this.toolbarEl.querySelector(\"#brush\");\n        this.colorPickerEl = this.toolbarEl.querySelector(\"#colorPicker\");\n        this.brushPanelEl = this.containerEl.querySelector(\"#brushPanel\");\n        this.brushSliderEl = this.brushPanelEl.querySelector(\"#brushSize\");\n        this.brushSizePreviewEl =\n            this.brushPanelEl.querySelector(\"#brushSizePreview\");\n        this.eraserEl = this.toolbarEl.querySelector(\"#eraser\");\n        this.navigatorEl = this.toolbarEl.querySelector(\"#navigator\");\n        this.navigatorImageContainerEl = this.containerEl.querySelector(\"#imgNav\");\n        this.navigatorImageEl =\n            this.navigatorImageContainerEl.querySelector(\"#canvasImg\");\n        this.undoEl = this.toolbarEl.querySelector(\"#undo\");\n        this.clearEl = this.toolbarEl.querySelector(\"#clear\");\n        this.downloadLinkEl = this.toolbarEl.querySelector(\"#download\");\n    }\n    initContext() {\n        this.context = this.canvasEl.getContext(\"2d\");\n    }\n    initCanvasBackgroundColor() {\n        this.context.fillStyle = this.backgroundColor;\n        this.context.fillRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n    }\n    addEvent() {\n        this.brushEl.addEventListener(\"click\", this.onClickBrush.bind(this));\n        this.canvasEl.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\n        this.canvasEl.addEventListener(\"mousemove\", this.onMouseMove.bind(this));\n        this.canvasEl.addEventListener(\"mouseup\", this.onMouseUp.bind(this));\n        this.canvasEl.addEventListener(\"mouseout\", this.onMouseOut.bind(this));\n        this.brushSliderEl.addEventListener(\n            \"input\",\n            this.onChangeBrushSize.bind(this)\n        );\n        this.colorPickerEl.addEventListener(\"input\", this.onChangeColor.bind(this));\n        this.eraserEl.addEventListener(\"click\", this.onClickEraser.bind(this));\n        this.navigatorEl.addEventListener(\n            \"click\",\n            this.onClickNavigator.bind(this)\n        );\n        this.undoEl.addEventListener(\"click\", this.onClickUndo.bind(this));\n        this.clearEl.addEventListener(\"click\", this.onClickClear.bind(this));\n        this.downloadLinkEl.addEventListener(\n            \"click\",\n            this.onClickDownload.bind(this)\n        );\n    }\n\n    onClickDownload() {\n        this.downloadLinkEl.href = this.canvasEl.toDataURL(\"image/jpeg\", 1);\n        this.downloadLinkEl.download = \"exmaple.jpeg\";\n    }\n\n    onClickClear() {\n        this.context.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n        this.undoArray = [];\n        this.updateNavigator();\n        this.initCanvasBackgroundColor();\n    }\n\n    onClickUndo() {\n        if (this.undoArray.length === 0) {\n            alert(\"더이상 실행취소 불가합니다!\");\n            return;\n        }\n        let previousDataUrl = this.undoArray.pop();\n        let previousImage = new Image();\n        previousImage.onload = () => {\n            this.context.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n            this.context.drawImage(\n                previousImage,\n                0,\n                0,\n                this.canvasEl.width,\n                this.canvasEl.height,\n                0,\n                0,\n                this.canvasEl.width,\n                this.canvasEl.height\n            );\n        };\n        previousImage.src = previousDataUrl;\n    }\n\n    saveState() {\n        if (this.undoArray.length > 4) {\n            this.undoArray.shift();\n            this.undoArray.push(this.canvasEl.toDataURL());\n        } else {\n            this.undoArray.push(this.canvasEl.toDataURL());\n        }\n    }\n\n    onClickNavigator(event) {\n        this.IsNavigatorVisible = !event.currentTarget.classList.contains(\"active\");\n        event.currentTarget.classList.toggle(\"active\");\n        this.navigatorImageContainerEl.classList.toggle(\"hide\");\n        this.updateNavigator();\n    }\n\n    updateNavigator() {\n        if (!this.IsNavigatorVisible) return;\n        this.navigatorImageEl.src = this.canvasEl.toDataURL();\n    }\n\n    onClickEraser(event) {\n        const IsActive = event.currentTarget.classList.contains(\"active\");\n        this.MODE = IsActive ? \"NONE\" : \"ERASER\";\n        this.canvasEl.style.cursor = IsActive ? \"default\" : \"crosshair\";\n        this.brushPanelEl.classList.add(\"hide\");\n        event.currentTarget.classList.toggle(\"active\");\n        this.brushEl.classList.remove(\"active\");\n    }\n\n    onMouseOut() {\n        if (this.MODE === \"NONE\") return;\n        this.IsMouseDown = false;\n        this.updateNavigator();\n    }\n\n    onChangeColor(event) {\n        this.brushSizePreviewEl.style.background = event.target.value;\n    }\n    onChangeBrushSize(event) {\n        this.brushSizePreviewEl.style.width = `${event.target.value}px`;\n        this.brushSizePreviewEl.style.height = `${event.target.value}px`;\n    }\n\n    onMouseDown(event) {\n        if (this.MODE === \"NONE\") return;\n        this.IsMouseDown = true;\n        const currentPosition = this.getMousePosition(event);\n        this.context.beginPath();\n        this.context.moveTo(currentPosition.x, currentPosition.y);\n        this.context.lineCap = \"round\";\n        if (this.MODE === \"BRUSH\") {\n            this.context.strokeStyle = this.colorPickerEl.value;\n            this.context.lineWidth = this.brushSliderEl.value;\n        } else if (this.MODE === \"ERASER\") {\n            this.context.strokeStyle = this.eraserColor;\n            this.context.lineWidth = 50;\n        }\n        this.saveState();\n    }\n\n    onMouseMove(event) {\n        if (!this.IsMouseDown) return;\n        const currentPosition = this.getMousePosition(event);\n        this.context.lineTo(currentPosition.x, currentPosition.y);\n        this.context.stroke();\n    }\n\n    onMouseUp() {\n        if (this.MODE === \"NONE\") return;\n        this.IsMouseDown = false;\n        this.updateNavigator();\n    }\n\n    getMousePosition(event) {\n        const boundaries = this.canvasEl.getBoundingClientRect();\n        return {\n            x: event.clientX - boundaries.left,\n            y: event.clientY - boundaries.top,\n        };\n    }\n\n    onClickBrush(event) {\n        const IsActive = event.currentTarget.classList.contains(\"active\");\n        this.MODE = IsActive ? \"NONE\" : \"BRUSH\";\n        this.canvasEl.style.cursor = IsActive ? \"default\" : \"crosshair\";\n        this.brushPanelEl.classList.toggle(\"hide\");\n        event.currentTarget.classList.toggle(\"active\");\n        this.eraserEl.classList.remove(\"active\");\n    }\n}\n\nnew DrawingBoard();"],"names":[],"version":3,"file":"index.de5c0784.js.map","sourceRoot":"/__parcel_source_root/"}